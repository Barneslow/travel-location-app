{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useLayoutEffect, useState } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport MapView, { Marker } from \"react-native-maps\";\nimport IconButton from \"../components/ui/IconButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar Map = function Map() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedLocation = _useState2[0],\n      setSelectedLocation = _useState2[1];\n\n  var initialRegion = {\n    latitude: 37.78825,\n    longitude: -122.4324,\n    latitudeDelta: 0.0922,\n    longitudeDelta: 0.0421\n  };\n\n  function selectLocationHandler(event) {\n    var lat = event.nativeEvent.coordinate.latitude;\n    var lng = event.nativeEvent.coordinate.longitude;\n    setSelectedLocation({\n      lat: lat,\n      lng: lng\n    });\n  }\n\n  function savedPickedLocationHandler() {\n    if (!selectedLocation) {\n      Alert.alert(\"No Location Picked\", \"Select a location on the map!\");\n      return;\n    }\n\n    navigation.navigate(\"AddPlace\", {\n      pickedLat: selectedLocation.lat,\n      pickedLng: selectedLocation.lng\n    });\n  }\n\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight(_ref) {\n        var tintColor = _ref.tintColor;\n        return _jsx(IconButton, {});\n      }\n    });\n  });\n  return _jsx(MapView, {\n    style: styles.map,\n    initialRegion: initialRegion,\n    onPress: selectLocationHandler,\n    children: selectedLocation && _jsx(Marker, {\n      title: \"Picked Location\",\n      coordinate: {\n        latitude: selectedLocation.lat,\n        longitude: selectedLocation.lng\n      }\n    })\n  });\n};\n\nexport default Map;\nvar styles = StyleSheet.create({\n  map: {\n    flex: 1\n  }\n});","map":{"version":3,"names":["useLayoutEffect","useState","MapView","Marker","IconButton","Map","selectedLocation","setSelectedLocation","initialRegion","latitude","longitude","latitudeDelta","longitudeDelta","selectLocationHandler","event","lat","nativeEvent","coordinate","lng","savedPickedLocationHandler","Alert","alert","navigation","navigate","pickedLat","pickedLng","setOptions","headerRight","tintColor","styles","map","StyleSheet","create","flex"],"sources":["/Users/darrachbarneveld/Downloads/react-native-practical-guide-code-12-native-features/code/02-adding-an-add-place-screen-navigation/screens/Map.js"],"sourcesContent":["import { useLayoutEffect, useState } from \"react\";\nimport { Alert, StyleSheet } from \"react-native\";\nimport MapView, { Marker } from \"react-native-maps\";\nimport IconButton from \"../components/ui/IconButton\";\n\nconst Map = () => {\n  const [selectedLocation, setSelectedLocation] = useState();\n\n  const initialRegion = {\n    latitude: 37.78825,\n    longitude: -122.4324,\n    latitudeDelta: 0.0922,\n    longitudeDelta: 0.0421,\n  };\n\n  function selectLocationHandler(event) {\n    const lat = event.nativeEvent.coordinate.latitude;\n    const lng = event.nativeEvent.coordinate.longitude;\n\n    setSelectedLocation({ lat: lat, lng: lng });\n  }\n\n  function savedPickedLocationHandler() {\n    if (!selectedLocation) {\n      Alert.alert(\"No Location Picked\", \"Select a location on the map!\");\n      return;\n    }\n\n    navigation.navigate(\"AddPlace\", {\n      pickedLat: selectedLocation.lat,\n      pickedLng: selectedLocation.lng,\n    });\n  }\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      headerRight: ({ tintColor }) => <IconButton />,\n    });\n  });\n\n  return (\n    <MapView\n      style={styles.map}\n      initialRegion={initialRegion}\n      onPress={selectLocationHandler}\n    >\n      {selectedLocation && (\n        <Marker\n          title=\"Picked Location\"\n          coordinate={{\n            latitude: selectedLocation.lat,\n            longitude: selectedLocation.lng,\n          }}\n        />\n      )}\n    </MapView>\n  );\n};\n\nexport default Map;\n\nconst styles = StyleSheet.create({\n  map: {\n    flex: 1,\n  },\n});\n"],"mappings":";AAAA,SAASA,eAAT,EAA0BC,QAA1B,QAA0C,OAA1C;;;AAEA,OAAOC,OAAP,IAAkBC,MAAlB,QAAgC,mBAAhC;AACA,OAAOC,UAAP;;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;EAChB,gBAAgDJ,QAAQ,EAAxD;EAAA;EAAA,IAAOK,gBAAP;EAAA,IAAyBC,mBAAzB;;EAEA,IAAMC,aAAa,GAAG;IACpBC,QAAQ,EAAE,QADU;IAEpBC,SAAS,EAAE,CAAC,QAFQ;IAGpBC,aAAa,EAAE,MAHK;IAIpBC,cAAc,EAAE;EAJI,CAAtB;;EAOA,SAASC,qBAAT,CAA+BC,KAA/B,EAAsC;IACpC,IAAMC,GAAG,GAAGD,KAAK,CAACE,WAAN,CAAkBC,UAAlB,CAA6BR,QAAzC;IACA,IAAMS,GAAG,GAAGJ,KAAK,CAACE,WAAN,CAAkBC,UAAlB,CAA6BP,SAAzC;IAEAH,mBAAmB,CAAC;MAAEQ,GAAG,EAAEA,GAAP;MAAYG,GAAG,EAAEA;IAAjB,CAAD,CAAnB;EACD;;EAED,SAASC,0BAAT,GAAsC;IACpC,IAAI,CAACb,gBAAL,EAAuB;MACrBc,KAAK,CAACC,KAAN,CAAY,oBAAZ,EAAkC,+BAAlC;MACA;IACD;;IAEDC,UAAU,CAACC,QAAX,CAAoB,UAApB,EAAgC;MAC9BC,SAAS,EAAElB,gBAAgB,CAACS,GADE;MAE9BU,SAAS,EAAEnB,gBAAgB,CAACY;IAFE,CAAhC;EAID;;EAEDlB,eAAe,CAAC,YAAM;IACpBsB,UAAU,CAACI,UAAX,CAAsB;MACpBC,WAAW,EAAE;QAAA,IAAGC,SAAH,QAAGA,SAAH;QAAA,OAAmB,KAAC,UAAD,KAAnB;MAAA;IADO,CAAtB;EAGD,CAJc,CAAf;EAMA,OACE,KAAC,OAAD;IACE,KAAK,EAAEC,MAAM,CAACC,GADhB;IAEE,aAAa,EAAEtB,aAFjB;IAGE,OAAO,EAAEK,qBAHX;IAAA,UAKGP,gBAAgB,IACf,KAAC,MAAD;MACE,KAAK,EAAC,iBADR;MAEE,UAAU,EAAE;QACVG,QAAQ,EAAEH,gBAAgB,CAACS,GADjB;QAEVL,SAAS,EAAEJ,gBAAgB,CAACY;MAFlB;IAFd;EANJ,EADF;AAiBD,CApDD;;AAsDA,eAAeb,GAAf;AAEA,IAAMwB,MAAM,GAAGE,UAAU,CAACC,MAAX,CAAkB;EAC/BF,GAAG,EAAE;IACHG,IAAI,EAAE;EADH;AAD0B,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}